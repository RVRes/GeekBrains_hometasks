<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>JS_Task_4.1</title>
</head>
<body>
<script>
    "use strict";

    /* Урок 4, задание 1:

    Написать функцию, преобразующую число в объект. Передавая на вход число в диапазоне [0, 999],
    мы должны получить на выходе объект, в котором в соответствующих свойствах описаны разряды числа:
    - единицы (в свойстве firstDigit)
    - десятки (в свойстве secondDigit)
    - сотни (в свойстве thirdDigit)
    Например, для числа 45 мы должны получить следующий объект:

    {
    firstDigit: 5,
    secondDigit: 4,
    thirdDigit: 0,
    }

    Если число было передано вне [0, 999] диапазона, не целое число или вообще не число,
    необходимо выдать соответствующее сообщение с помощью console.log и вернуть пустой объект.
    */
    /**
     * Объект - приложение, которое организует ввод числа, проверяет, и возвращает объект с
     * посимвольным разбиением.
     *
     * Я так понимаю, само приложение возвращать уже ничего не должно, достаточно вернуть объект в блок run.
     * тк основной код будет внутри этого блока.
     *
     * После вставки этого описания - в строке const= application = { - показывает ошибку
     * скорей всего - ждет декларации функций, расскажите, пожалуйста, что он от меня хочет)))
     * @type {{run(): void, getDividedNumObj(*): *, getNumber(): (*|boolean)}}
     */
    const application = {
        /**
         * Основной код приложения. Контроллер других методов.
         */
        run() {
            const num = this.getNumber();
            console.log(this.getDividedNumObj(num));
        },

        /**
         * Метод получает целое число [0-999] или false.
         * Возвращает пустой объект при false или с разбиением по единицам, десяткам и сотням в свойствах.
         * @param num число от [0-999] или false
         * @returns {{}} - объект, пустой или с разбиением по единицам, десяткам и сотням.
         */
        getDividedNumObj(num) {
            let obj = {};
            // хотел записать красивее, но тернарный оператор запрещает
            // писать после себя return, а !num реагирует на 0
            if (num === false) {
                return obj;
            }
            obj.firstDigit = num % 10;
            obj.secondDigit = Math.floor(num / 10) % 10;
            obj.thirdDigit = Math.floor(num / 100) % 10;
            return obj;
        },

        /**
         * Метод огрганизует ввод и проверку числа [0-999]
         * @returns {*} возвращает число 0-999 или false при ошибке
         */
        getNumber() {
            const num = +prompt(`Введите целое число [0-999]:`);
            if (Number.isInteger(num) && num >= 0 && num <= 999) {
                return num;
            } else {
                console.error(`Ошибка при вводе номера. Ввод не соответствует условиям.`);
                return false;
            }
        }
    };

    application.run();
</script>
</body>
</html>